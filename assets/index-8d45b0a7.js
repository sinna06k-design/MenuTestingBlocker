var Jt=Object.defineProperty;var Zt=(n,e,t)=>e in n?Jt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ye=(n,e,t)=>(Zt(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();function G(){}const Be=n=>n;function wt(n){return n()}function lt(){return Object.create(null)}function ie(n){n.forEach(wt)}function Ie(n){return typeof n=="function"}function Xt(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Ne;function Se(n,e){return n===e?!0:(Ne||(Ne=document.createElement("a")),Ne.href=e,n===Ne.href)}function xt(n){return Object.keys(n).length===0}function it(n){return n??""}const jt=typeof window<"u";let Je=jt?()=>window.performance.now():()=>Date.now(),Ze=jt?n=>requestAnimationFrame(n):G;const be=new Set;function Kt(n){be.forEach(e=>{e.c(n)||(be.delete(e),e.f())}),be.size!==0&&Ze(Kt)}function Xe(n){let e;return be.size===0&&Ze(Kt),{promise:new Promise(t=>{be.add(e={c:n,f:t})}),abort(){be.delete(e)}}}function a(n,e){n.appendChild(e)}function St(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function $t(n){const e=K("style");return e.textContent="/* empty */",en(St(n),e),e.sheet}function en(n,e){return a(n.head||n,e),e.sheet}function L(n,e,t){n.insertBefore(e,t||null)}function F(n){n.parentNode&&n.parentNode.removeChild(n)}function K(n){return document.createElement(n)}function R(n){return document.createTextNode(n)}function H(){return R(" ")}function tn(){return R("")}function Le(n,e,t,s){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t,s)}function y(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function nn(n){return n===""?null:+n}function sn(n){return Array.from(n.childNodes)}function z(n,e){e=""+e,n.data!==e&&(n.data=e)}function rt(n,e){n.value=e??""}function N(n,e,t,s){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,s?"important":"")}function ln(n,e,{bubbles:t=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:s})}const Me=new Map;let De=0;function rn(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function on(n,e){const t={stylesheet:$t(e),rules:{}};return Me.set(n,t),t}function Re(n,e,t,s,l,i,c,_=0){const h=16.666/s;let o=`{
`;for(let d=0;d<=1;d+=h){const S=e+(t-e)*i(d);o+=d*100+`%{${c(S,1-S)}}
`}const u=o+`100% {${c(t,1-t)}}
}`,k=`__svelte_${rn(u)}_${_}`,g=St(n),{stylesheet:w,rules:p}=Me.get(g)||on(g,n);p[k]||(p[k]=!0,w.insertRule(`@keyframes ${k} ${u}`,w.cssRules.length));const f=n.style.animation||"";return n.style.animation=`${f?`${f}, `:""}${k} ${s}ms linear ${l}ms 1 both`,De+=1,k}function Oe(n,e){const t=(n.style.animation||"").split(", "),s=t.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),l=t.length-s.length;l&&(n.style.animation=s.join(", "),De-=l,De||cn())}function cn(){Ze(()=>{De||(Me.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&F(e)}),Me.clear())})}let Ee;function Ke(n){Ee=n}function fn(){if(!Ee)throw new Error("Function called outside component initialization");return Ee}function un(n){fn().$$.on_mount.push(n)}const me=[],He=[];let he=[];const ot=[],an=Promise.resolve();let Ge=!1;function dn(){Ge||(Ge=!0,an.then(Et))}function X(n){he.push(n)}const Qe=new Set;let ye=0;function Et(){if(ye!==0)return;const n=Ee;do{try{for(;ye<me.length;){const e=me[ye];ye++,Ke(e),pn(e.$$)}}catch(e){throw me.length=0,ye=0,e}for(Ke(null),me.length=0,ye=0;He.length;)He.pop()();for(let e=0;e<he.length;e+=1){const t=he[e];Qe.has(t)||(Qe.add(t),t())}he.length=0}while(me.length);for(;ot.length;)ot.pop()();Ge=!1,Qe.clear(),Ke(n)}function pn(n){if(n.fragment!==null){n.update(),ie(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(X)}}function _n(n){const e=[],t=[];he.forEach(s=>n.indexOf(s)===-1?e.push(s):t.push(s)),t.forEach(s=>s()),he=e}let je;function xe(){return je||(je=Promise.resolve(),je.then(()=>{je=null})),je}function de(n,e,t){n.dispatchEvent(ln(`${e?"intro":"outro"}${t}`))}const Pe=new Set;let se;function ue(){se={r:0,c:[],p:se}}function ae(){se.r||ie(se.c),se=se.p}function U(n,e){n&&n.i&&(Pe.delete(n),n.i(e))}function Q(n,e,t,s){if(n&&n.o){if(Pe.has(n))return;Pe.add(n),se.c.push(()=>{Pe.delete(n),s&&(t&&n.d(1),s())}),n.o(e)}else s&&s()}const $e={duration:0};function yn(n,e,t){const s={direction:"in"};let l=e(n,t,s),i=!1,c,_,h=0;function o(){c&&Oe(n,c)}function u(){const{delay:g=0,duration:w=300,easing:p=Be,tick:f=G,css:d}=l||$e;d&&(c=Re(n,0,1,w,g,p,d,h++)),f(0,1);const S=Je()+g,E=S+w;_&&_.abort(),i=!0,X(()=>de(n,!0,"start")),_=Xe(m=>{if(i){if(m>=E)return f(1,0),de(n,!0,"end"),o(),i=!1;if(m>=S){const I=p((m-S)/w);f(I,1-I)}}return i})}let k=!1;return{start(){k||(k=!0,Oe(n),Ie(l)?(l=l(s),xe().then(u)):u())},invalidate(){k=!1},end(){i&&(o(),i=!1)}}}function mn(n,e,t){const s={direction:"out"};let l=e(n,t,s),i=!0,c;const _=se;_.r+=1;let h;function o(){const{delay:u=0,duration:k=300,easing:g=Be,tick:w=G,css:p}=l||$e;p&&(c=Re(n,1,0,k,u,g,p));const f=Je()+u,d=f+k;X(()=>de(n,!1,"start")),"inert"in n&&(h=n.inert,n.inert=!0),Xe(S=>{if(i){if(S>=d)return w(0,1),de(n,!1,"end"),--_.r||ie(_.c),!1;if(S>=f){const E=g((S-f)/k);w(1-E,E)}}return i})}return Ie(l)?xe().then(()=>{l=l(s),o()}):o(),{end(u){u&&"inert"in n&&(n.inert=h),u&&l.tick&&l.tick(1,0),i&&(c&&Oe(n,c),i=!1)}}}function $(n,e,t,s){let i=e(n,t,{direction:"both"}),c=s?0:1,_=null,h=null,o=null,u;function k(){o&&Oe(n,o)}function g(p,f){const d=p.b-c;return f*=Math.abs(d),{a:c,b:p.b,d,duration:f,start:p.start,end:p.start+f,group:p.group}}function w(p){const{delay:f=0,duration:d=300,easing:S=Be,tick:E=G,css:m}=i||$e,I={start:Je()+f,b:p};p||(I.group=se,se.r+=1),"inert"in n&&(p?u!==void 0&&(n.inert=u):(u=n.inert,n.inert=!0)),_||h?h=I:(m&&(k(),o=Re(n,c,p,d,f,S,m)),p&&E(0,1),_=g(I,d),X(()=>de(n,p,"start")),Xe(O=>{if(h&&O>h.start&&(_=g(h,d),h=null,de(n,_.b,"start"),m&&(k(),o=Re(n,c,_.b,_.duration,0,S,i.css))),_){if(O>=_.end)E(c=_.b,1-c),de(n,_.b,"end"),h||(_.b?k():--_.group.r||ie(_.group.c)),_=null;else if(O>=_.start){const P=O-_.start;c=_.a+_.d*S(P/_.duration),E(c,1-c)}}return!!(_||h)}))}return{run(p){Ie(i)?xe().then(()=>{i=i({direction:p?"in":"out"}),w(p)}):w(p)},end(){k(),_=h=null}}}function Ae(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function bn(n,e){n.d(1),e.delete(n.key)}function hn(n,e){Q(n,1,1,()=>{e.delete(n.key)})}function It(n,e,t,s,l,i,c,_,h,o,u,k){let g=n.length,w=i.length,p=g;const f={};for(;p--;)f[n[p].key]=p;const d=[],S=new Map,E=new Map,m=[];for(p=w;p--;){const r=k(l,i,p),b=t(r);let T=c.get(b);T?s&&m.push(()=>T.p(r,e)):(T=o(b,r),T.c()),S.set(b,d[p]=T),b in f&&E.set(b,Math.abs(p-f[b]))}const I=new Set,O=new Set;function P(r){U(r,1),r.m(_,u),c.set(r.key,r),u=r.first,w--}for(;g&&w;){const r=d[w-1],b=n[g-1],T=r.key,V=b.key;r===b?(u=r.first,g--,w--):S.has(V)?!c.has(T)||I.has(T)?P(r):O.has(V)?g--:E.get(T)>E.get(V)?(O.add(T),P(r)):(I.add(V),g--):(h(b,c),g--)}for(;g--;){const r=n[g];S.has(r.key)||h(r,c)}for(;w;)P(d[w-1]);return ie(m),d}function kn(n,e,t){const{fragment:s,after_update:l}=n.$$;s&&s.m(e,t),X(()=>{const i=n.$$.on_mount.map(wt).filter(Ie);n.$$.on_destroy?n.$$.on_destroy.push(...i):ie(i),n.$$.on_mount=[]}),l.forEach(X)}function vn(n,e){const t=n.$$;t.fragment!==null&&(_n(t.after_update),ie(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function gn(n,e){n.$$.dirty[0]===-1&&(me.push(n),dn(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function wn(n,e,t,s,l,i,c=null,_=[-1]){const h=Ee;Ke(n);const o=n.$$={fragment:null,ctx:[],props:i,update:G,not_equal:l,bound:lt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(h?h.$$.context:[])),callbacks:lt(),dirty:_,skip_bound:!1,root:e.target||h.$$.root};c&&c(o.root);let u=!1;if(o.ctx=t?t(n,e.props||{},(k,g,...w)=>{const p=w.length?w[0]:g;return o.ctx&&l(o.ctx[k],o.ctx[k]=p)&&(!o.skip_bound&&o.bound[k]&&o.bound[k](p),u&&gn(n,k)),g}):[],o.update(),u=!0,ie(o.before_update),o.fragment=s?s(o.ctx):!1,e.target){if(e.hydrate){const k=sn(e.target);o.fragment&&o.fragment.l(k),k.forEach(F)}else o.fragment&&o.fragment.c();e.intro&&U(n.$$.fragment),kn(n,e.target,e.anchor),Et()}Ke(h)}class jn{constructor(){Ye(this,"$$");Ye(this,"$$set")}$destroy(){vn(this,1),this.$destroy=G}$on(e,t){if(!Ie(t))return G;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(t),()=>{const l=s.indexOf(t);l!==-1&&s.splice(l,1)}}$set(e){this.$$set&&!xt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Kn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Kn);function J(n,{delay:e=0,duration:t=400,easing:s=Be}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:i=>`opacity: ${i*l}`}}function ct(n,e,t){const s=n.slice();s[75]=e[t],s[78]=e,s[79]=t;const l=s[75].icon;s[76]=l;const i=s[79]==s[0];return s[77]=i,s}function ft(n,e,t){const s=n.slice();return s[80]=e[t].id,s[81]=e[t].message,s[82]=e[t].type,s}function ut(n){let e,t,s,l,i,c,_,h,o,u;function k(p,f){return p[37]?En:Sn}let g=k(n),w=g(n);return{c(){e=K("div"),t=K("div"),s=K("div"),s.innerHTML='<i class="ph ph-keyboard menu-keybind-setup-icon svelte-1yvsfej"></i> <div class="menu-keybind-setup-title svelte-1yvsfej">Select a keybind (Open key)</div>',l=H(),i=K("div"),c=K("div"),w.c(),_=H(),h=K("span"),y(s,"class","menu-keybind-setup-header svelte-1yvsfej"),y(h,"class","menu-keybind-cursor svelte-1yvsfej"),y(c,"class","menu-keybind-display-content svelte-1yvsfej"),y(i,"class","menu-keybind-setup-display svelte-1yvsfej"),y(t,"class","menu-keybind-setup-box svelte-1yvsfej"),y(e,"class","menu-keybind-setup-container svelte-1yvsfej")},m(p,f){L(p,e,f),a(e,t),a(t,s),a(t,l),a(t,i),a(i,c),w.m(c,null),a(c,_),a(c,h),u=!0},p(p,f){g===(g=k(p))&&w?w.p(p,f):(w.d(1),w=g(p),w&&(w.c(),w.m(c,_)))},i(p){u||(p&&X(()=>{u&&(o||(o=$(e,J,{duration:200},!0)),o.run(1))}),u=!0)},o(p){p&&(o||(o=$(e,J,{duration:200},!1)),o.run(0)),u=!1},d(p){p&&F(e),w.d(),p&&o&&o.end()}}}function Sn(n){let e;return{c(){e=K("span"),e.textContent="Press any key...",y(e,"class","menu-keybind-waiting-text svelte-1yvsfej")},m(t,s){L(t,e,s)},p:G,d(t){t&&F(e)}}}function En(n){let e,t;return{c(){e=K("span"),t=R(n[37]),y(e,"class","menu-keybind-selected-key svelte-1yvsfej")},m(s,l){L(s,e,l),a(e,t)},p(s,l){l[1]&64&&z(t,s[37])},d(s){s&&F(e)}}}function at(n){let e,t,s,l,i,c,_,h,o,u,k,g;function w(d,S){return d[35]==="weapon"?Cn:d[35]==="model"?Tn:In}let p=w(n),f=p(n);return{c(){e=K("div"),t=K("div"),f.c(),s=H(),l=K("img"),c=H(),_=K("div"),h=R(n[34]),y(t,"class","image-display-title svelte-1yvsfej"),Se(l.src,i=n[33])||y(l,"src",i),y(l,"alt",n[34]),y(l,"class","image-display-img svelte-1yvsfej"),y(_,"class","image-display-label svelte-1yvsfej"),y(e,"class","image-display-container svelte-1yvsfej"),N(e,"--accent-color",n[29])},m(d,S){L(d,e,S),a(e,t),f.m(t,null),a(e,s),a(e,l),a(e,c),a(e,_),a(_,h),u=!0,k||(g=Le(l,"error",n[41]),k=!0)},p(d,S){p!==(p=w(d))&&(f.d(1),f=p(d),f&&(f.c(),f.m(t,null))),(!u||S[1]&4&&!Se(l.src,i=d[33]))&&y(l,"src",i),(!u||S[1]&8)&&y(l,"alt",d[34]),(!u||S[1]&8)&&z(h,d[34]),(!u||S[0]&536870912)&&N(e,"--accent-color",d[29])},i(d){u||(d&&X(()=>{u&&(o||(o=$(e,J,{duration:200},!0)),o.run(1))}),u=!0)},o(d){d&&(o||(o=$(e,J,{duration:200},!1)),o.run(0)),u=!1},d(d){d&&F(e),f.d(),d&&o&&o.end(),k=!1,g()}}}function In(n){let e;return{c(){e=R("Preview")},m(t,s){L(t,e,s)},d(t){t&&F(e)}}}function Tn(n){let e;return{c(){e=R("Model Preview")},m(t,s){L(t,e,s)},d(t){t&&F(e)}}}function Cn(n){let e;return{c(){e=R("Weapon Preview")},m(t,s){L(t,e,s)},d(t){t&&F(e)}}}function dt(n){let e,t,s,l,i,c,_,h,o,u,k,g,w,p,f,d;function S(r,b){return r[27]?Fn:Nn}let E=S(n),m=E(n);function I(r,b){return r[27]?Ln:Pn}let O=I(n),P=O(n);return{c(){e=K("div"),t=K("div"),s=K("div"),l=R(n[23]),i=H(),c=K("div"),_=R("Feature: "),h=R(n[24]),o=H(),u=K("div"),k=R(n[25]),g=H(),w=K("div"),m.c(),p=H(),P.c(),y(s,"class","keybind-setup-title svelte-1yvsfej"),y(c,"class","keybind-setup-feature svelte-1yvsfej"),y(u,"class","keybind-setup-instruction svelte-1yvsfej"),y(w,"class","keybind-setup-display svelte-1yvsfej"),y(t,"class","keybind-setup-box svelte-1yvsfej"),N(t,"--accent-color",n[29]),y(e,"class","keybind-setup-container svelte-1yvsfej")},m(r,b){L(r,e,b),a(e,t),a(t,s),a(s,l),a(t,i),a(t,c),a(c,_),a(c,h),a(t,o),a(t,u),a(u,k),a(t,g),a(t,w),m.m(w,null),a(t,p),P.m(t,null),d=!0},p(r,b){(!d||b[0]&8388608)&&z(l,r[23]),(!d||b[0]&16777216)&&z(h,r[24]),(!d||b[0]&33554432)&&z(k,r[25]),E===(E=S(r))&&m?m.p(r,b):(m.d(1),m=E(r),m&&(m.c(),m.m(w,null))),O===(O=I(r))&&P?P.p(r,b):(P.d(1),P=O(r),P&&(P.c(),P.m(t,null))),(!d||b[0]&536870912)&&N(t,"--accent-color",r[29])},i(r){d||(r&&X(()=>{d&&(f||(f=$(e,J,{duration:200},!0)),f.run(1))}),d=!0)},o(r){r&&(f||(f=$(e,J,{duration:200},!1)),f.run(0)),d=!1},d(r){r&&F(e),m.d(),P.d(),r&&f&&f.end()}}}function Nn(n){let e;return{c(){e=K("span"),e.textContent="Waiting for key press...",y(e,"class","keybind-waiting-text svelte-1yvsfej")},m(t,s){L(t,e,s)},p:G,d(t){t&&F(e)}}}function Fn(n){let e,t;return{c(){e=K("span"),t=R(n[27]),y(e,"class","keybind-selected-key svelte-1yvsfej")},m(s,l){L(s,e,l),a(e,t)},p(s,l){l[0]&134217728&&z(t,s[27])},d(s){s&&F(e)}}}function Pn(n){let e,t;return{c(){e=K("div"),t=R(n[26]),y(e,"class","keybind-setup-hint svelte-1yvsfej")},m(s,l){L(s,e,l),a(e,t)},p(s,l){l[0]&67108864&&z(t,s[26])},d(s){s&&F(e)}}}function Ln(n){let e;return{c(){e=K("div"),e.textContent="Press ENTER to confirm or ESC to cancel",y(e,"class","keybind-setup-confirm svelte-1yvsfej")},m(t,s){L(t,e,s)},p:G,d(t){t&&F(e)}}}function pt(n){let e,t,s,l,i,c,_,h,o,u,k,g;function w(m,I){return m[22]?Dn:Mn}let p=w(n),f=p(n);function d(m,I){return m[22]?On:Rn}let S=d(n),E=S(n);return{c(){e=K("div"),t=K("div"),s=K("div"),l=R(n[19]),i=H(),c=K("div"),_=R(n[20]),h=H(),o=K("div"),f.c(),u=H(),E.c(),y(s,"class","key-selection-title svelte-1yvsfej"),y(c,"class","key-selection-instruction svelte-1yvsfej"),y(o,"class","key-selection-display svelte-1yvsfej"),y(t,"class","key-selection-box svelte-1yvsfej"),N(t,"--accent-color",n[29]),y(e,"class","key-selection-container svelte-1yvsfej")},m(m,I){L(m,e,I),a(e,t),a(t,s),a(s,l),a(t,i),a(t,c),a(c,_),a(t,h),a(t,o),f.m(o,null),a(t,u),E.m(t,null),g=!0},p(m,I){(!g||I[0]&524288)&&z(l,m[19]),(!g||I[0]&1048576)&&z(_,m[20]),p===(p=w(m))&&f?f.p(m,I):(f.d(1),f=p(m),f&&(f.c(),f.m(o,null))),S===(S=d(m))&&E?E.p(m,I):(E.d(1),E=S(m),E&&(E.c(),E.m(t,null))),(!g||I[0]&536870912)&&N(t,"--accent-color",m[29])},i(m){g||(m&&X(()=>{g&&(k||(k=$(e,J,{duration:200},!0)),k.run(1))}),g=!0)},o(m){m&&(k||(k=$(e,J,{duration:200},!1)),k.run(0)),g=!1},d(m){m&&F(e),f.d(),E.d(),m&&k&&k.end()}}}function Mn(n){let e;return{c(){e=K("span"),e.textContent="Waiting for key press...",y(e,"class","waiting-text svelte-1yvsfej")},m(t,s){L(t,e,s)},p:G,d(t){t&&F(e)}}}function Dn(n){let e,t;return{c(){e=K("span"),t=R(n[22]),y(e,"class","selected-key svelte-1yvsfej")},m(s,l){L(s,e,l),a(e,t)},p(s,l){l[0]&4194304&&z(t,s[22])},d(s){s&&F(e)}}}function Rn(n){let e,t;return{c(){e=K("div"),t=R(n[21]),y(e,"class","key-selection-hint svelte-1yvsfej")},m(s,l){L(s,e,l),a(e,t)},p(s,l){l[0]&2097152&&z(t,s[21])},d(s){s&&F(e)}}}function On(n){let e;return{c(){e=K("div"),e.textContent="Press ENTER to confirm or ESC to cancel",y(e,"class","key-selection-confirm svelte-1yvsfej")},m(t,s){L(t,e,s)},p:G,d(t){t&&F(e)}}}function _t(n){let e,t,s,l,i,c,_,h,o,u=n[14].length+"",k,g,w,p,f,d,S,E,m,I,O;function P(T,V){return T[14]?An:Hn}let r=P(n),b=r(n);return{c(){e=K("div"),t=K("div"),s=K("div"),l=R(n[15]),i=H(),c=K("div"),b.c(),_=H(),h=K("div"),o=K("span"),k=R(u),g=R("/"),w=R(n[17]),p=H(),f=K("span"),d=R("Type: "),S=R(n[18]),E=H(),m=K("div"),m.textContent="ENTER to confirm • ESC to cancel • CTRL+V to paste",y(s,"class","text-input-title svelte-1yvsfej"),y(c,"class","text-input-field svelte-1yvsfej"),y(o,"class","svelte-1yvsfej"),y(f,"class","svelte-1yvsfej"),y(h,"class","text-input-info svelte-1yvsfej"),y(m,"class","text-input-hint svelte-1yvsfej"),y(t,"class","text-input-box svelte-1yvsfej"),N(t,"--accent-color",n[29]),y(e,"class","text-input-container svelte-1yvsfej")},m(T,V){L(T,e,V),a(e,t),a(t,s),a(s,l),a(t,i),a(t,c),b.m(c,null),a(t,_),a(t,h),a(h,o),a(o,k),a(o,g),a(o,w),a(h,p),a(h,f),a(f,d),a(f,S),a(t,E),a(t,m),O=!0},p(T,V){(!O||V[0]&32768)&&z(l,T[15]),r===(r=P(T))&&b?b.p(T,V):(b.d(1),b=r(T),b&&(b.c(),b.m(c,null))),(!O||V[0]&16384)&&u!==(u=T[14].length+"")&&z(k,u),(!O||V[0]&131072)&&z(w,T[17]),(!O||V[0]&262144)&&z(S,T[18]),(!O||V[0]&536870912)&&N(t,"--accent-color",T[29])},i(T){O||(T&&X(()=>{O&&(I||(I=$(e,J,{duration:200},!0)),I.run(1))}),O=!0)},o(T){T&&(I||(I=$(e,J,{duration:200},!1)),I.run(0)),O=!1},d(T){T&&F(e),b.d(),T&&I&&I.end()}}}function Hn(n){let e,t,s;return{c(){e=K("span"),t=R(n[16]),s=K("span"),y(e,"class","placeholder-text svelte-1yvsfej"),y(s,"class","cursor svelte-1yvsfej")},m(l,i){L(l,e,i),a(e,t),L(l,s,i)},p(l,i){i[0]&65536&&z(t,l[16])},d(l){l&&(F(e),F(s))}}}function An(n){let e,t,s;return{c(){e=K("span"),t=R(n[14]),s=K("span"),y(e,"class","text-content svelte-1yvsfej"),y(s,"class","cursor svelte-1yvsfej")},m(l,i){L(l,e,i),a(e,t),L(l,s,i)},p(l,i){i[0]&16384&&z(t,l[14])},d(l){l&&(F(e),F(s))}}}function yt(n,e){let t,s=e[81]+"",l,i,c,_;return{key:n,first:null,c(){t=K("div"),l=R(s),y(t,"class",i="notification "+e[82]+" svelte-1yvsfej"),N(t,"--accent-color",e[29]),this.first=t},m(h,o){L(h,t,o),a(t,l),_=!0},p(h,o){e=h,(!_||o[1]&128)&&s!==(s=e[81]+"")&&z(l,s),(!_||o[1]&128&&i!==(i="notification "+e[82]+" svelte-1yvsfej"))&&y(t,"class",i),(!_||o[0]&536870912)&&N(t,"--accent-color",e[29])},i(h){_||(h&&X(()=>{_&&(c||(c=$(t,J,{},!0)),c.run(1))}),_=!0)},o(h){h&&(c||(c=$(t,J,{},!1)),c.run(0)),_=!1},d(h){h&&F(t),h&&c&&c.end()}}}function mt(n){let e,t,s,l,i,c,_,h,o,u,k,g,w,p,f=[],d=new Map,S,E,m,I,O=n[0]+1+"",P,r,b=n[1].length+"",T,V,x,W,re,ne,q=n[30]>0&&bt(n),Y=n[11]>0&&ht(n),oe=Ae(n[1]);const pe=D=>D[75].label;for(let D=0;D<oe.length;D+=1){let B=ct(n,oe,D),ee=pe(B);d.set(ee,f[D]=gt(ee,B))}return{c(){e=K("div"),t=K("div"),s=K("img"),i=H(),c=K("div"),_=K("span"),h=R(n[31]),o=H(),q&&q.c(),u=H(),k=K("div"),g=K("div"),w=H(),Y&&Y.c(),p=H();for(let D=0;D<f.length;D+=1)f[D].c();S=H(),E=K("div"),m=R("Version: Dev | Nexus Private "),I=K("span"),P=R(O),r=R("/"),T=R(b),Se(s.src,l=n[28])||y(s,"src",l),y(s,"alt","Menu Banner"),y(s,"class","svelte-1yvsfej"),y(t,"class","menu-header svelte-1yvsfej"),y(_,"class","breadcrumb-text svelte-1yvsfej"),y(c,"class","breadcrumb-container svelte-1yvsfej"),y(g,"class","menu-highlight-bar svelte-1yvsfej"),N(g,"top",n[9]+"px"),N(g,"height",n[10]+"px"),N(g,"--accent-color",n[29]),y(k,"class","menu-content hide-scrollbar svelte-1yvsfej"),N(I,"font-weight","400"),y(I,"class","svelte-1yvsfej"),y(E,"class","menu-footer svelte-1yvsfej"),y(e,"class","menu-container svelte-1yvsfej"),N(e,"--accent-color",n[29])},m(D,B){L(D,e,B),a(e,t),a(t,s),a(e,i),a(e,c),a(c,_),a(_,h),a(e,o),q&&q.m(e,null),a(e,u),a(e,k),a(k,g),a(k,w),Y&&Y.m(k,null),a(k,p);for(let ee=0;ee<f.length;ee+=1)f[ee]&&f[ee].m(k,null);n[44](k),a(e,S),a(e,E),a(E,m),a(E,I),a(I,P),a(I,r),a(I,T),W=!0,re||(ne=Le(k,"scroll",n[39]),re=!0)},p(D,B){(!W||B[0]&268435456&&!Se(s.src,l=D[28]))&&y(s,"src",l),(!W||B[1]&1)&&z(h,D[31]),D[30]>0?q?q.p(D,B):(q=bt(D),q.c(),q.m(e,u)):q&&(q.d(1),q=null),(!W||B[0]&512)&&N(g,"top",D[9]+"px"),(!W||B[0]&1024)&&N(g,"height",D[10]+"px"),(!W||B[0]&536870912)&&N(g,"--accent-color",D[29]),D[11]>0?Y?Y.p(D,B):(Y=ht(D),Y.c(),Y.m(k,p)):Y&&(Y.d(1),Y=null),B[0]&7&&(oe=Ae(D[1]),f=It(f,B,pe,1,D,oe,d,k,bn,gt,null,ct)),(!W||B[0]&1)&&O!==(O=D[0]+1+"")&&z(P,O),(!W||B[0]&2)&&b!==(b=D[1].length+"")&&z(T,b),(!W||B[0]&536870912)&&N(e,"--accent-color",D[29])},i(D){W||(D&&X(()=>{W&&(x&&x.end(1),V=yn(e,J,{duration:200}),V.start())}),W=!0)},o(D){V&&V.invalidate(),D&&(x=mn(e,J,{duration:200})),W=!1},d(D){D&&F(e),q&&q.d(),Y&&Y.d();for(let B=0;B<f.length;B+=1)f[B].d();n[44](null),D&&x&&x.end(),re=!1,ne()}}}function bt(n){let e;return{c(){e=K("div"),y(e,"class","banner-spacing svelte-1yvsfej"),N(e,"--spacing",n[30]+"px")},m(t,s){L(t,e,s)},p(t,s){s[0]&1073741824&&N(e,"--spacing",t[30]+"px")},d(t){t&&F(e)}}}function ht(n){let e,t;return{c(){e=K("div"),t=K("div"),y(t,"class","scrollbar-thumb-indicator svelte-1yvsfej"),N(t,"top",n[12]+"px"),N(t,"height",n[13]+"px"),y(e,"class","scrollbar-indicator svelte-1yvsfej"),N(e,"height",n[11]+"px"),N(e,"--accent-color",n[29])},m(s,l){L(s,e,l),a(e,t)},p(s,l){l[0]&4096&&N(t,"top",s[12]+"px"),l[0]&8192&&N(t,"height",s[13]+"px"),l[0]&2048&&N(e,"height",s[11]+"px"),l[0]&536870912&&N(e,"--accent-color",s[29])},d(s){s&&F(e)}}}function kt(n){let e,t;return{c(){e=K("i"),y(e,"class",t=it(`ph ${n[76]} menu-icon`)+" svelte-1yvsfej")},m(s,l){L(s,e,l)},p(s,l){l[0]&2&&t!==(t=it(`ph ${s[76]} menu-icon`)+" svelte-1yvsfej")&&y(e,"class",t)},d(s){s&&F(e)}}}function vt(n){let e;return{c(){e=K("i"),y(e,"class","ph ph-keyboard keybind-indicator svelte-1yvsfej"),y(e,"title","This feature can be bound to a key (Press F9)")},m(t,s){L(t,e,s)},d(t){t&&F(e)}}}function Bn(n){let e,t,s,l,i=(n[75].value||n[75].placeholder||"Enter text...")+"",c;return{c(){e=K("div"),t=K("i"),s=H(),l=K("span"),c=R(i),y(t,"class","ph ph-keyboard svelte-1yvsfej"),N(t,"font-size","1vh"),N(l,"color",n[75].value?"white":"#888"),N(l,"font-style",n[75].value?"normal":"italic"),y(l,"class","svelte-1yvsfej"),N(e,"background","rgba(0, 0, 0, 0.4)"),N(e,"border","0.1vh solid #555"),N(e,"border-radius","0.5vh"),N(e,"padding","0.8vh 1.2vh"),N(e,"font-size","1.2vh"),N(e,"max-width","12vh"),N(e,"overflow","hidden"),N(e,"text-overflow","ellipsis"),N(e,"white-space","nowrap"),N(e,"display","flex"),N(e,"align-items","center"),N(e,"gap","0.5vh"),y(e,"class","svelte-1yvsfej")},m(_,h){L(_,e,h),a(e,t),a(e,s),a(e,l),a(l,c)},p(_,h){h[0]&2&&i!==(i=(_[75].value||_[75].placeholder||"Enter text...")+"")&&z(c,i),h[0]&2&&N(l,"color",_[75].value?"white":"#888"),h[0]&2&&N(l,"font-style",_[75].value?"normal":"italic")},d(_){_&&F(e)}}}function zn(n){let e,t,s,l,i,c;function _(u,k){return u[75].options&&u[75].options[u[75].selected]&&u[75].options[u[75].selected].label?Qn:u[75].options&&u[75].options[u[75].selected]?Yn:Wn}let h=_(n),o=h(n);return{c(){e=K("div"),t=K("span"),t.textContent="←",s=H(),l=K("span"),o.c(),i=H(),c=K("span"),c.textContent="→",y(t,"class","scroll-arrows svelte-1yvsfej"),y(l,"class","scroll-content svelte-1yvsfej"),y(c,"class","scroll-arrows svelte-1yvsfej"),y(e,"class","scroll-display svelte-1yvsfej")},m(u,k){L(u,e,k),a(e,t),a(e,s),a(e,l),o.m(l,null),a(e,i),a(e,c)},p(u,k){h===(h=_(u))&&o?o.p(u,k):(o.d(1),o=h(u),o&&(o.c(),o.m(l,null)))},d(u){u&&F(e),o.d()}}}function Vn(n){let e,t,s,l,i,c;function _(){n[42].call(e,n[78],n[79])}return{c(){e=K("input"),y(e,"type","range"),y(e,"class","range svelte-1yvsfej"),y(e,"min",t=n[75].min),y(e,"max",s=n[75].max),y(e,"step",l=n[75].step),N(e,"--pct",n[75].value/n[75].max*100+"%")},m(h,o){L(h,e,o),rt(e,n[75].value),i||(c=[Le(e,"change",_),Le(e,"input",_)],i=!0)},p(h,o){n=h,o[0]&2&&t!==(t=n[75].min)&&y(e,"min",t),o[0]&2&&s!==(s=n[75].max)&&y(e,"max",s),o[0]&2&&l!==(l=n[75].step)&&y(e,"step",l),o[0]&2&&N(e,"--pct",n[75].value/n[75].max*100+"%"),o[0]&2&&rt(e,n[75].value)},d(h){h&&F(e),i=!1,ie(c)}}}function qn(n){let e,t,s;return{c(){e=K("div"),t=K("div"),y(t,"class","toggle-knob svelte-1yvsfej"),y(e,"class",s="toggle-switch "+(n[75].checked?"active":"")+" svelte-1yvsfej")},m(l,i){L(l,e,i),a(e,t)},p(l,i){i[0]&2&&s!==(s="toggle-switch "+(l[75].checked?"active":"")+" svelte-1yvsfej")&&y(e,"class",s)},d(l){l&&F(e)}}}function Un(n){let e;return{c(){e=K("i"),y(e,"class","ph ph-caret-right svelte-1yvsfej"),N(e,"font-size","1.2vh")},m(t,s){L(t,e,s)},p:G,d(t){t&&F(e)}}}function Wn(n){let e;return{c(){e=R("No options")},m(t,s){L(t,e,s)},p:G,d(t){t&&F(e)}}}function Yn(n){let e=n[75].options[n[75].selected]+"",t;return{c(){t=R(e)},m(s,l){L(s,t,l)},p(s,l){l[0]&2&&e!==(e=s[75].options[s[75].selected]+"")&&z(t,e)},d(s){s&&F(t)}}}function Qn(n){let e=n[75].options[n[75].selected].label+"",t;return{c(){t=R(e)},m(s,l){L(s,t,l)},p(s,l){l[0]&2&&e!==(e=s[75].options[s[75].selected].label+"")&&z(t,e)},d(s){s&&F(t)}}}function gt(n,e){let t,s,l,i=e[75].label+"",c,_,h,o,u,k=e[79],g=e[76]&&kt(e),w=e[75].canBind&&vt();function p(m,I){if(m[75].type=="submenu")return Un;if(m[75].type=="checkbox")return qn;if(m[75].type=="slider")return Vn;if(m[75].type=="scroll")return zn;if(m[75].type=="input")return Bn}let f=p(e),d=f&&f(e);const S=()=>e[43](t,k),E=()=>e[43](null,k);return{key:n,first:null,c(){t=K("div"),g&&g.c(),s=H(),l=K("span"),c=R(i),_=H(),w&&w.c(),h=H(),d&&d.c(),o=H(),y(l,"class","menu-label svelte-1yvsfej"),y(t,"class",u="menu-item "+(e[77]?"active":"")+" svelte-1yvsfej"),this.first=t},m(m,I){L(m,t,I),g&&g.m(t,null),a(t,s),a(t,l),a(l,c),a(t,_),w&&w.m(t,null),a(t,h),d&&d.m(t,null),a(t,o),S()},p(m,I){e=m,e[76]?g?g.p(e,I):(g=kt(e),g.c(),g.m(t,s)):g&&(g.d(1),g=null),I[0]&2&&i!==(i=e[75].label+"")&&z(c,i),e[75].canBind?w||(w=vt(),w.c(),w.m(t,h)):w&&(w.d(1),w=null),f===(f=p(e))&&d?d.p(e,I):(d&&d.d(1),d=f&&f(e),d&&(d.c(),d.m(t,o))),I[0]&3&&u!==(u="menu-item "+(e[77]?"active":"")+" svelte-1yvsfej")&&y(t,"class",u),k!==e[79]&&(E(),k=e[79],S())},d(m){m&&F(t),g&&g.d(),w&&w.d(),d&&d.d(),E()}}}function Gn(n){let e,t,s,l,i,c,_,h,o,u=[],k=new Map,g,w,p,f=n[7]&&ut(n),d=n[32]&&at(n),S=n[6]&&dt(n),E=n[5]&&pt(n),m=n[4]&&_t(n),I=Ae(n[38]);const O=r=>r[80];for(let r=0;r<I.length;r+=1){let b=ft(n,I,r),T=O(b);k.set(T,u[r]=yt(T,b))}let P=n[8]&&!n[36]&&mt(n);return{c(){e=K("script"),e.innerHTML="",s=H(),f&&f.c(),l=H(),d&&d.c(),i=H(),S&&S.c(),c=H(),E&&E.c(),_=H(),m&&m.c(),h=H(),o=K("div");for(let r=0;r<u.length;r+=1)u[r].c();g=H(),P&&P.c(),w=tn(),Se(e.src,t="https://unpkg.com/@phosphor-icons/web")||y(e,"src",t),y(e,"class","svelte-1yvsfej"),y(o,"class","notification-container svelte-1yvsfej")},m(r,b){a(document.head,e),L(r,s,b),f&&f.m(r,b),L(r,l,b),d&&d.m(r,b),L(r,i,b),S&&S.m(r,b),L(r,c,b),E&&E.m(r,b),L(r,_,b),m&&m.m(r,b),L(r,h,b),L(r,o,b);for(let T=0;T<u.length;T+=1)u[T]&&u[T].m(o,null);L(r,g,b),P&&P.m(r,b),L(r,w,b),p=!0},p(r,b){r[7]?f?(f.p(r,b),b[0]&128&&U(f,1)):(f=ut(r),f.c(),U(f,1),f.m(l.parentNode,l)):f&&(ue(),Q(f,1,1,()=>{f=null}),ae()),r[32]?d?(d.p(r,b),b[1]&2&&U(d,1)):(d=at(r),d.c(),U(d,1),d.m(i.parentNode,i)):d&&(ue(),Q(d,1,1,()=>{d=null}),ae()),r[6]?S?(S.p(r,b),b[0]&64&&U(S,1)):(S=dt(r),S.c(),U(S,1),S.m(c.parentNode,c)):S&&(ue(),Q(S,1,1,()=>{S=null}),ae()),r[5]?E?(E.p(r,b),b[0]&32&&U(E,1)):(E=pt(r),E.c(),U(E,1),E.m(_.parentNode,_)):E&&(ue(),Q(E,1,1,()=>{E=null}),ae()),r[4]?m?(m.p(r,b),b[0]&16&&U(m,1)):(m=_t(r),m.c(),U(m,1),m.m(h.parentNode,h)):m&&(ue(),Q(m,1,1,()=>{m=null}),ae()),b[0]&536870912|b[1]&128&&(I=Ae(r[38]),ue(),u=It(u,b,O,1,r,I,k,o,hn,yt,null,ft),ae()),r[8]&&!r[36]?P?(P.p(r,b),b[0]&256|b[1]&32&&U(P,1)):(P=mt(r),P.c(),U(P,1),P.m(w.parentNode,w)):P&&(ue(),Q(P,1,1,()=>{P=null}),ae())},i(r){if(!p){U(f),U(d),U(S),U(E),U(m);for(let b=0;b<I.length;b+=1)U(u[b]);U(P),p=!0}},o(r){Q(f),Q(d),Q(S),Q(E),Q(m);for(let b=0;b<u.length;b+=1)Q(u[b]);Q(P),p=!1},d(r){r&&(F(s),F(l),F(i),F(c),F(_),F(h),F(o),F(g),F(w)),F(e),f&&f.d(r),d&&d.d(r),S&&S.d(r),E&&E.d(r),m&&m.d(r);for(let b=0;b<u.length;b+=1)u[b].d();P&&P.d(r)}}}const Fe="nexus_menu_toggle_keybind";function Jn(n,e,t){let s=0,l=[],i=!1,c=[],_=0,h=0,o,u=0,k=0,g=0,w=!1,p="",f="",d="",S=100,E="general",m=!1,I="",O="",P="",r=null,b="",T=!1,V="",x="",W="",re="",ne=null,q="",Y="https://share.creavite.co/68add0153ab89cb91d355b6e.gif",oe="#e74c3c",pe=5,D="Home",B=!1,ee="",ze="",Ve="",te=!1,fe=!1,ke=null,ve="",ge=[];const Z=(v,j)=>{const M=Date.now();t(38,ge=[...ge,{id:M,message:v,type:j}]),setTimeout(()=>{t(38,ge=ge.filter(C=>C.id!==M))},4e3)},Tt=()=>{if(!c[s]||!o)return;const v=c[s],j=o.getBoundingClientRect(),M=v.getBoundingClientRect();t(9,_=M.top-j.top+o.scrollTop),t(10,h=M.height)},Ct=()=>{if(!o||l.length===0){t(11,u=0);return}const{scrollTop:v,scrollHeight:j,clientHeight:M}=o;if(j<=M){t(11,u=0);return}t(11,u=M-1);const C=M/j;t(13,g=Math.max(u*C,3));const A=j-M,ce=A>0?v/A:0,we=u-g;t(12,k=we*ce),console.log("Scrollbar Debug:",{scrollHeight:j,clientHeight:M,scrollTop:v,scrollRatio:ce,thumbTop:k,thumbHeight:g,trackHeight:u})},_e=()=>{Tt(),Ct()},le=(v,j={})=>{console.log("Sending to Lua:",v,j)},Te=v=>{const j=v.key,M=v.code;let C=null,A="";if((m||T)&&(j==="Enter"||j==="Escape"))return{controlId:null,keyName:""};switch(M){case"PageDown":C=11,A="Page Down";break;case"KeyQ":C=44,A="Q Key";break;case"KeyE":C=38,A="E Key";break;case"KeyF":C=23,A="F Key";break;case"F2":C=75,A="F2 Key";break;case"Insert":C=121,A="Insert Key";break;case"Delete":C=178,A="Delete Key";break;case"Home":C=213,A="Home Key";break;case"End":C=214,A="End Key";break;case"ControlLeft":C=96,A="Left Ctrl";break;case"AltLeft":C=97,A="Left Alt";break;case"ShiftLeft":C=21,A="Left Shift";break;case"KeyR":C=19,A="R Key";break;case"KeyT":C=245,A="T Key";break;case"KeyY":C=246,A="Y Key";break;case"KeyU":C=303,A="U Key";break;case"F1":C=3e3,A="F1 Key";break;case"F2":C=3001,A="F2 Key";break;case"F3":C=3002,A="F3 Key";break;case"F4":C=3003,A="F4 Key";break;case"F5":C=3004,A="F5 Key";break;case"F6":C=3005,A="F6 Key";break;case"F7":C=3006,A="F7 Key";break;case"F8":C=3007,A="F8 Key";break;case"F9":C=3008,A="F9 Key";break;case"F10":C=3009,A="F10 Key";break;case"F11":C=3010,A="F11 Key";break;case"F12":C=3011,A="F12 Key";break;default:if(M.startsWith("Key")&&M.length===4){const ce=M.substring(3),we=ce.charCodeAt(0)-65;we>=0&&we<=25&&(C=1e3+we,A=ce+" Key")}else if(M.startsWith("Digit")&&M.length===6){const ce=parseInt(M.substring(5));C=2e3+ce,A=ce+" Key"}break}return{controlId:C,keyName:A}},Nt=v=>{if(v.key!=="F9")return;if(v.preventDefault(),v.stopPropagation(),te){Z("Close current dialog first before using F9","warn");return}if(!i){Z("Open menu first to use F9 keybind setup","info");return}const j=l[s];if(!j){Z("No menu item selected","error");return}if(!j.canBind){Z("This feature cannot be bound to a key","warn");return}Ft(j)},Ft=v=>{t(4,w=!1),t(5,m=!1),t(36,te=!0),t(6,T=!0),t(23,V="Keybind Setup"),t(24,x=v.bindName||v.label),t(25,W="Press any key to bind to this feature"),t(26,re="ESC to cancel"),ne=null,t(27,q=""),setTimeout(()=>window.focus(),100)},Pt=v=>{if(!T)return;if(v.preventDefault(),v.stopPropagation(),v.key==="Escape"){Mt();return}if(v.key==="Enter"){ne!==null?Lt():Z("Select a key first","warn");return}const{controlId:j,keyName:M}=Te(v);j&&M?(ne=j,t(27,q=M)):Z("Key cannot be bound","warn")},Lt=()=>{le("keybindSetupConfirm",{controlId:ne,keyName:q,featureName:x}),Z(`Keybind set: ${q} -> ${x}`,"success"),qe()},Mt=()=>{le("keybindSetupCancel"),Z("Keybind setup canceled","info"),qe()},qe=()=>{t(6,T=!1),t(36,te=!1),t(23,V=""),t(24,x=""),t(25,W=""),t(26,re=""),ne=null,t(27,q="")},Dt=v=>{if(!m)return;if(v.preventDefault(),v.stopPropagation(),v.key==="Escape"){Ot();return}if(v.key==="Enter"&&r){Rt();return}const{controlId:j,keyName:M}=Te(v);j&&M&&(r=j,t(22,b=M))},Rt=()=>{le("keySelectionConfirm",{controlId:r,keyName:b}),Ue()},Ot=()=>{le("keySelectionCancel"),Ue()},Ue=()=>{t(5,m=!1),t(36,te=!1),t(19,I=""),t(20,O=""),t(21,P=""),r=null,t(22,b="")},et=(v,j)=>j==="numeric"?/^[0-9]$/.test(v):j==="alphanumeric"?/^[a-zA-Z0-9_]$/.test(v):/^[\x20-\x7E]$/.test(v),Ht=v=>{if(w){if(v.key!=="F5"&&v.key!=="F12"&&v.preventDefault(),v.key==="Enter"){At();return}if(v.key==="Escape"){Bt();return}if(v.key==="Backspace"){p.length>0&&t(14,p=p.slice(0,-1));return}if(v.key==="Delete"){t(14,p="");return}if(v.ctrlKey){if(v.key.toLowerCase()==="v"){tt();return}if(v.key.toLowerCase()==="a"){t(14,p="");return}return}if(v.key.length===1){const j=v.key;et(j,E)&&p.length<S&&t(14,p+=j)}}},tt=async()=>{try{const j=(await navigator.clipboard.readText()).split("").filter(C=>et(C,E)).join(""),M=p+j;M.length<=S?t(14,p=M):t(14,p=M.substring(0,S))}catch{le("requestClipboard")}},At=()=>{le("textInputSubmit",{value:p}),We()},Bt=()=>{le("textInputCancel"),We()},We=()=>{t(4,w=!1),t(36,te=!1),t(14,p=""),t(15,f=""),t(16,d=""),t(17,S=100),t(18,E="general")},zt=(v,j,M)=>{t(35,Ve=v),t(33,ee=j),t(34,ze=M),t(32,B=!0)},Ce=()=>{t(32,B=!1),t(33,ee=""),t(34,ze=""),t(35,Ve="")},Vt=v=>{if(fe||te)return;const j=localStorage.getItem(Fe);if(j)try{const M=JSON.parse(j),{controlId:C}=Te(v);C&&C===M.controlId&&(v.preventDefault(),v.stopPropagation(),le("toggleMenu",{controlId:C}))}catch(M){console.error("Error handling menu toggle keybind:",M)}},nt=()=>{t(7,fe=!0),ke=null,t(37,ve=""),setTimeout(()=>window.focus(),100)},qt=v=>{if(!fe)return;if(v.preventDefault(),v.stopPropagation(),v.key==="Escape"){Z("You must set a keybind to open/close the menu","warn");return}if(v.key==="Enter"){ke!==null?Ut():Z("Select a key first","warn");return}const{controlId:j,keyName:M}=Te(v);j&&M?(ke=j,t(37,ve=M)):Z("Key cannot be used as menu toggle","warn")},Ut=()=>{if(ke===null)return;const v={controlId:ke,keyName:ve};localStorage.setItem(Fe,JSON.stringify(v)),le("menuKeybindSet",v),Z(`Menu toggle keybind set: ${ve}`,"success"),t(7,fe=!1),setTimeout(()=>window.focus(),100)},st=v=>{if(fe){qt(v);return}if(Vt(v),v.key==="F9"){Nt(v);return}T?Pt(v):m?Dt(v):w&&Ht(v)};un(()=>{localStorage.getItem(Fe)||setTimeout(()=>{nt()},500),window.addEventListener("keydown",st);const j=()=>setTimeout(_e,10);return window.addEventListener("resize",j),()=>{window.removeEventListener("keydown",st),window.removeEventListener("resize",j)}}),window.addEventListener("message",v=>{const j=v.data,M=j.action;try{switch(M){case"setCurrent":t(0,s=j.current-1),t(1,l=j.menu),t(8,i=!0),setTimeout(()=>{var C;(C=c[s])==null||C.scrollIntoView({behavior:"smooth",block:"nearest"}),_e()},100);break;case"setVisible":t(8,i=j.visible),i?setTimeout(()=>{var C;(C=c[s])==null||C.scrollIntoView({behavior:"smooth",block:"nearest"}),_e()},100):Ce();break;case"notify":Z(j.message,j.type||"info");break;case"openTextInput":t(14,p=j.value||""),t(15,f=j.question||"Enter text:"),t(16,d=j.placeholder||"Type here..."),t(17,S=j.maxLength||100),t(18,E=j.inputType||"general"),t(4,w=!0),t(36,te=!0),setTimeout(()=>window.focus(),100);break;case"updateTextInput":t(14,p=j.value||"");break;case"closeTextInput":We();break;case"openKeySelection":t(19,I=j.title||"Select Key"),t(20,O=j.instruction||"Press any key to bind"),t(21,P=j.hint||"ESC to cancel"),r=null,t(22,b=""),t(5,m=!0),t(36,te=!0),setTimeout(()=>window.focus(),100);break;case"updateKeySelection":t(22,b=j.keyName||""),r=j.keyCode||null;break;case"closeKeySelection":Ue();break;case"openKeybindSetup":t(23,V=j.title||"Keybind Setup"),t(24,x=j.featureName||""),t(25,W=j.instruction||"Press any key to bind"),t(26,re=j.hint||"ESC to cancel"),ne=null,t(27,q=""),t(6,T=!0),t(36,te=!0),setTimeout(()=>window.focus(),100);break;case"updateKeybindSetup":t(27,q=j.keyName||""),ne=j.keyCode||null;break;case"closeKeybindSetup":qe();break;case"updateBanner":t(28,Y=j.bannerLink||Y),t(29,oe=j.bannerColor||oe),t(30,pe=j.bannerSpacing||pe);break;case"updateBreadcrumb":t(31,D=j.breadcrumb||"Home");break;case"requestClipboard":tt();break;case"showImage":zt(j.imageType,j.imageUrl,j.label);break;case"hideImage":Ce();break;case"resetMenuKeybind":localStorage.removeItem(Fe),nt();break}}catch(C){console.error("Error handling message:",C)}});const Wt=()=>Ce();function Yt(v,j){v[j].value=nn(this.value),t(1,l)}function Qt(v,j){He[v?"unshift":"push"](()=>{c[j]=v,t(2,c)})}function Gt(v){He[v?"unshift":"push"](()=>{o=v,t(3,o)})}return n.$$.update=()=>{n.$$.dirty[0]&5&&s>=0&&c[s]&&setTimeout(_e,10),n.$$.dirty[0]&10&&l.length>0&&o&&setTimeout(_e,10),n.$$.dirty[0]&240&&t(36,te=w||m||T||fe)},[s,l,c,o,w,m,T,fe,i,_,h,u,k,g,p,f,d,S,E,I,O,P,b,V,x,W,re,q,Y,oe,pe,D,B,ee,ze,Ve,te,ve,ge,_e,Ce,Wt,Yt,Qt,Gt]}class Zn extends jn{constructor(e){super(),wn(this,e,Jn,Gn,Xt,{},null,[-1,-1,-1])}}new Zn({target:document.getElementById("app")});
